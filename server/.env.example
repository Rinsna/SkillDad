# Server Configuration
PORT=3030
NODE_ENV=development

# Database
MONGO_URI=mongodb://127.0.0.1:27017/skilldad

# Authentication
JWT_SECRET=your_jwt_secret_key_here

# Redis Cache
REDIS_URL=redis://localhost:6379

# Client Application
CLIENT_URL=http://localhost:5173

# ============================================
# ZOOM INTEGRATION (Live Sessions)
# ============================================
# The platform uses Zoom for live educational sessions.
# You need both API credentials (for creating meetings) and SDK credentials (for embedding).
#
# DEVELOPMENT MODE:
# Set ZOOM_MOCK_MODE=true to use mock Zoom without real credentials (for testing)
# When enabled, the system will simulate Zoom meetings without connecting to real Zoom API
ZOOM_MOCK_MODE=false
#
# Setup Instructions (for production):
# 1. Create a Server-to-Server OAuth App at https://marketplace.zoom.us/
#    - Provides: ZOOM_API_KEY, ZOOM_API_SECRET, ZOOM_ACCOUNT_ID
#    - Required scopes: meeting:write, meeting:read, recording:read
# 2. Create a Meeting SDK App at https://marketplace.zoom.us/
#    - Provides: ZOOM_SDK_KEY, ZOOM_SDK_SECRET
# 3. Configure webhooks (optional) for instant recording notifications
#    - Provides: ZOOM_WEBHOOK_SECRET
#
# For detailed setup guide, see: server/docs/ENVIRONMENT_VARIABLES.md

# Zoom API Credentials - Used by backend to create and manage meetings
ZOOM_API_KEY=your_zoom_api_key_here
ZOOM_API_SECRET=your_zoom_api_secret_here
ZOOM_ACCOUNT_ID=your_zoom_account_id_here

# Zoom SDK Credentials - Used by backend to generate signatures for client embedding
# SECURITY: Never expose ZOOM_SDK_SECRET to the client
ZOOM_SDK_KEY=your_zoom_sdk_key_here
ZOOM_SDK_SECRET=your_zoom_sdk_secret_here

# Zoom Webhook Secret - Used for verifying webhook events (e.g., recording.completed)
# Optional: Only needed if you configure webhooks in your Zoom app
ZOOM_WEBHOOK_SECRET=your_zoom_webhook_secret_here

# Zoom Encryption Key - Used for encrypting meeting passcodes in database
# REQUIRED: Must be at least 32 characters long (not needed in mock mode)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ZOOM_ENCRYPTION_KEY=your_zoom_encryption_key_here_min_32_chars

# ============================================
# DEPRECATED: Bunny.net Stream (LEGACY)
# ============================================
# ⚠️ WARNING: These variables are DEPRECATED and will be removed in a future release.
#
# Migration Status: The platform has migrated from Bunny.net RTMP/HLS streaming to Zoom.
# These variables are only needed if you have legacy sessions that still reference Bunny.net.
#
# Action Required:
# - For NEW sessions: Use the Zoom integration (see ZOOM_* variables above)
# - For LEGACY sessions: Keep these variables until migration is complete
# - Migration Guide: See server/docs/ENVIRONMENT_VARIABLES.md
#
# Removal Timeline: These variables will be removed after all legacy sessions are migrated.
#
BUNNY_API_KEY=your_bunny_api_key_here
BUNNY_LIBRARY_ID=your_bunny_library_id_here
BUNNY_TOKEN_KEY=your_bunny_token_auth_key_here
BUNNY_PULL_ZONE=your_pull_zone_hostname.b-cdn.net
BUNNY_RTMP_ENDPOINT=rtmp://video.bunnycdn.com/live
SIGNED_URL_TTL_SECS=7200

# Email Configuration
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=465
EMAIL_USER=your_email@gmail.com
EMAIL_PASSWORD=your_email_app_password
EMAIL_FROM=support@skilldad.com

# Finance Team Emails (comma-separated)
FINANCE_TEAM_EMAILS=finance@skilldad.com,accounts@skilldad.com

# Timezone for scheduled jobs
TIMEZONE=Asia/Kolkata

# WhatsApp Integration (Gupshup API)
GUPSHUP_API_KEY=your_gupshup_api_key_here
GUPSHUP_SOURCE=91xxxxxxxxxx
GUPSHUP_TEMPLATE_LIVE=live_session_scheduled
GUPSHUP_TEMPLATE_EXAM=exam_scheduled
GUPSHUP_TEMPLATE_RESULT=exam_result
GUPSHUP_TEMPLATE_CERT=course_completed
GUPSHUP_TEMPLATE_WELCOME=welcome_onboarding

# Payment Gateway Configuration
HDFC_MAX_AMOUNT=500000

# Stripe Payment Configuration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key
STRIPE_WEBHOOK_SECRET=whsec_test_secret
STRIPE_SUCCESS_URL=http://localhost:5173/dashboard/payment-callback?status=success
STRIPE_CANCEL_URL=http://localhost:5173/dashboard/payment-callback?status=cancel
